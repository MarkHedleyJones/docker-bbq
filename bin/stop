#!/usr/bin/env bash

image=NULL

# Locate Dockerfile to determine image name
project_path=$(pwd)
while [[ ${project_path} != "/" ]]; do
    if [[ -f ${project_path}/Dockerfile ]]; then
        image=$(basename ${project_path})
        break
    fi
    project_path=$(dirname ${project_path})
done

if [[ $(docker ps --quiet --filter name=${image}) ]]; then
    printf "Killing "
    docker kill ${image}
else
    echo "Error: Could not find container '${image}' to stop"
fi
